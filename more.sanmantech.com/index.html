<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>摩尔衣橱</title>
<style>
    @keyframes fadein
    {
        from {opacity: 0;display:none;}
        to {opacity: 100;display:block;}
    }
    @keyframes fadeout
    {
        from {opacity: 0;display:block;}
        to {opacity: 100;display:none;}
    }
    html,body{
        height: 100%;
        width: 100%;
        border: none;
        padding: 0px;
        margin: 0px;
        overflow: hidden;
    }
    body>.startup {
        position: fixed;
        width: 100%;
        height:100%;
        opacity: 100;
        background: #fff;
        z-index: 100000;
        transition: all 1s;
    }
    body>.startup>div.logo {
        animation:fadein 1s;
        width: 100px;
        height: 100px;
        position: fixed;
        top: calc(50% - 50px);
        left:calc(50% - 50px);
        border-radius: 10px;
        background-image: url(res/imgs/index/logo.jpg);
        background-size:cover;
    }
    body>.startup>div.progress {
        animation:fadein 1s;
        width: 100px;
        height: 6px;
        position: absolute;
        top: calc(50% + 60px);
        left:calc(50% - 50px);
        border:1px solid #aaa;
        border-radius: 3px;
        background: #aaa;
    }
    body>.startup>div.progress>.value {
        width: 0%;
        height: 100%;
        position: absolute;
        border-radius: 3px;
        background: #00f;
    }
    body>.startup>a.loading {
        animation:fadein 1s;
        width: 100%;
        height: 60px;
        position: absolute;
        top: calc(50% + 60px + 10px);
        left:0px;
        text-align: center;
        line-height: 20px;
        border:none;
        font-size: 12px;
    }
</style>
</head>
<body class="fixed-sidebar">
<div class="startup">
    <div class="logo"></div>
    <div class="progress"><div class="value"></div></div>
    <a class="loading">loading...</a>
</div>
</body>
<script>

var loadfinish=new Promise(function(resolve,reject){
    var loadfinish=false;
    window.onload=function(){
        loadfinish=true;
        return;
    }
    maxtimer=function(){
        if(!loadfinish){return resolve();}
    }
    mintimer=function(){
        if(loadfinish){return resolve();}
    }
    setTimeout("maxtimer()",60000);
    setTimeout("mintimer()",3000);
});
loadfinish.then(function(){
    var a=document.querySelector(".startup");
    a&&(a.style.opacity=0,setTimeout('(function(){document.querySelector(".startup")&&(document.querySelector(".startup").style.display="none");})()',1000));
});

</script>
<!-- (1)必须的框架核心 -->
<script src="sm/sm.god.js"></script>
<!-- (2)必须的自定义js，入口文件在这里！ -->
<script src="view/main.js"></script>
</html>