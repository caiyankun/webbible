<style>
  .ibox-tools a {
    margin-right: 7px;
  }

  .ml10:nth-child(2) {
    margin-left: 10px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  table th, table td {
    border: 1px solid #e6e6e6;
    height: 30px;
    line-height: 30px;
    text-align: center;
  }

  #editTab td input {
    width: 112px;
    text-align: center;
    border: none;
  }
</style>
<div class="gray-bg">
<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">
    <div class="col-sm-12">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <h5>会员统计</h5>
          <div class="ibox-tools">
            <a class="collapse-link" id="countTabBtn">
              <i class="fa fa-chevron-up countTabIcon"></i>
            </a>
          </div>
        </div>
        <div class="ibox-content" id="countTabWrap">
          <table class="table table-bordered">
            <thead>
            <tr>
              <th>管理员</th>
              <th>设计师</th>
              <th>普通用户</th>
              <th>铂金卡</th>
              <th>金卡</th>
              <th>银卡</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>8</td>
              <td>5</td>
              <td>399</td>
              <td>88</td>
              <td>20</td>
              <td>30</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <h5>会员列表</h5>
          <div class="ibox-tools">
            <a class="collapse-link" id="listTabBtn">
              <i class="fa fa-chevron-up listTabIcon"></i>
            </a>
          </div>
        </div>
        <div class="ibox-content" id="listTabWrap">
          <div id="toolbar" class="btn-group">
            <button type="button" class="btn btn-default" data-toggle="modal" data-target="#addmember">
              <i class="glyphicon glyphicon-plus"></i>
            </button>
          </div>
          <table data-toggle="table"
                 data-url="js/demo/bootstrap_table_test.json"
                 data-pagination="true"
                 data-page-list="[5, 10, 20, 50, 100, 200]"
                 data-search="true"
                 data-show-refresh="true"
                 data-show-toggle="false"
                 data-show-columns="true"
                 data-toolbar="#toolbar">
            <thead>
            <tr>
              <th data-field="name">姓名</th>
              <th data-field="sex">性别</th>
              <th data-field="age" data-sortable="true">年龄</th>
              <th data-field="mobile">联系方式</th>
              <th data-field="address">地址</th>
              <th data-field="action" data-formatter="actionFormatter" data-events="actionEvents">操作</th>
              <th data-field="detail" data-formatter="detailFormatter" data-events="actionEvents">详情</th>
            </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <h5>会员详情</h5>
          <div class="ibox-tools">
            <a class="collapse-link" id="detailTabBtn">
              <i class="fa fa-chevron-up detailTabIcon"></i>
            </a>
          </div>
        </div>
        <div id="detailTabWrap">
          <div class="page-header text-center">
            <h4>基本资料</h4>
          </div>
          <div class="ibox-content" id="baseInfoWrap"></div>
          <div class="page-header text-center">
            <h4>订单信息</h4>
          </div>
          <div class="ibox-content" id="orderInfoWrap"></div>
          <div class="page-header text-center">
            <h4>行为统计</h4>
          </div>
          <div class="ibox-content" id="actionCountWrap"></div>
        </div>
      </div>
    </div>
  </div>
</div>
  <div class="modal inmodal" id="addmember" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content animated flipInY">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                  class="sr-only">Close</span></button>
          <h4 class="modal-title">新增会员</h4>
        </div>
        <div class="modal-body">
          <form class="form-horizontal m-t" id="commentForm" novalidate="novalidate">
            <div class="form-group">
              <label class="col-sm-3 control-label">姓名：</label>
              <div class="col-sm-8">
                <input id="cname" name="name" minlength="2" type="text" class="form-control"
                       required="" aria-required="true">
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-3 control-label">性别：</label>
              <div class="col-sm-8">
                <input id="cemail" type="email" class="form-control" name="email"
                       required="" aria-required="true">
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-3 control-label">联系方式：</label>
              <div class="col-sm-8">
                <input id="curl" type="url" class="form-control" name="url">
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-3 control-label">地址：</label>
              <div class="col-sm-8">
                                            <textarea id="ccomment" name="comment" class="form-control" required=""
                                                      aria-required="true"></textarea>
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-4 col-sm-offset-3">
                <button class="btn btn-primary" type="submit">提交</button>
              </div>
            </div>
          </form>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
    $(function () {

        //点击表格右上角的图标可以折叠表格
        $('#countTabBtn').click(function () {
            //右上角小图标切换
            if ($('#countTabWrap').css('display') === 'block') {
                $('.countTabIcon').addClass('fa-chevron-down')
            } else {
                $('.countTabIcon').removeClass('fa-chevron-down')
            }
            $('#countTabWrap').slideToggle()

        })

        //点击表格右上角的图标可以折叠表格
        $('#listTabBtn').click(function () {
            if ($('#listTabWrap').css('display') === 'block') {
                $('.listTabIcon').addClass('fa-chevron-down')
            } else {
                $('.listTabIcon').removeClass('fa-chevron-down')
            }
            $('#listTabWrap').slideToggle()
        })

        //会员详情默认隐藏
        $('#detailTabWrap').hide()
        $('.detailTabIcon').addClass('fa-chevron-down')

        //点击表格右上角的图标可以折叠表格
        $('#detailTabBtn').click(function () {
            if ($('#detailTabWrap').css('display') === 'block') {
                $('.detailTabIcon').addClass('fa-chevron-down')
            } else {
                $('.detailTabIcon').removeClass('fa-chevron-down')
            }
            $('#detailTabWrap').slideToggle()
        })

        window.actionEvents = {
            'click .edit': function (e, value, row, index) {
                layer.open({
                    type: 1,
                    area: ['600px'],
                    shadeClose: true,
                    title: '修改信息',
                    content: '<div style="padding:20px;" class="aaa"><table id="editTab">' +
                    '<thead><tr><th>姓名</th><th>性别</th><th>年龄</th><th>联系方式</th><th>地址</th></tr></thead>' +
                    '<tbody><tr><td><input type="text" value="' + row.name + '"></td>' +
                    '<td><input type="text" value="' + row.sex + '"></td>' +
                    '<td><input type="text" value="' + row.age + '"></td>' +
                    '<td><input type="text" value="' + row.mobile + '"></td>' +
                    '<td><input type="text" value="' + row.address + '"></td></tr></tbody></table></div>',
                    btn: ['提交'],
                    yes: function (index, layero) {
                        layer.confirm('确定要修改该会员信息吗?', {icon: 3, title: '提示'}, function (index) {
                            layer.closeAll()
                        });
                    }
                });
            },
            'click .remove': function (e, value, row, index) {
                layer.confirm('确定要删除会员<strong style="color:red">' + row.name + '</strong>吗?', {
                    icon: 3,
                    title: '提示'
                }, function (index) {
                    layer.close(index);
                });
            },
            'click .view': function (e, value, row, index) {
                if ($('#detailTabWrap').css('display') === 'none') {
                    $('#detailTabWrap').slideDown()
                }

                var baseInfoHtml = '<div><table><thead><tr><th>姓名</th><th>年龄</th><th>手机号</th><th>总消费额</th>' +
                    '<th>总订单数</th><th>注册时间</th><th>状态</th><th>操作</th></tr></thead><tbody><tr>' +
                    '<td>' + row.name + '</td><td>' + row.age + '</td><td>' + row.mobile + '</td>' +
                    '<td>8888</td><td>20</td><td>2018-01-01</td><td>活跃</td><td>良好</td>' +
                    '</tr></tbody></table></div>'
                $('#baseInfoWrap').html('').append(baseInfoHtml)

                var orderInfoHtml = '<div><table><thead><tr><th>订单名称</th><th>订单金额</th><th>订单状态</th><th>下单时间</th>' +
                    '<th>操作</th></tr></thead><tbody><tr>' +
                    '<td>110000581111</td><td>4999</td><td>未支付</td><td>2018-03-04</td><td>删除</td>' +
                    '</tr></tbody></table></div>'

                $('#orderInfoWrap').html('').append(orderInfoHtml)

                var actionCountHtml = '<div><table><thead><tr><th>登录</th><th>邀请</th><th>关注</th><th>收藏</th>' +
                    '<th>评论</th><th>预约</th></tr></thead><tbody><tr>' +
                    '<td>2018-04-01</td><td>FK010</td><td>10</td><td>30</td><td>22</td><td>5</td>' +
                    '</tr></tbody></table></div>'

                $('#actionCountWrap').html('').append(actionCountHtml)
            }
        };

    })

    function actionFormatter(value, row, index) {
        return [
            '<a class="edit ml10" href="javascript:void(0)" title="Edit">',
            '<i class="glyphicon glyphicon-edit"></i>',
            '</a>',
            '<a class="remove ml10" href="javascript:void(0)" title="Remove">',
            '<i class="glyphicon glyphicon-remove"></i>',
            '</a>'
        ].join('');
    }

    function detailFormatter(value, row, index) {
        return [
            '<a class="view ml10" href="javascript:void(0)" title="View">',
            '<i class="glyphicon glyphicon-zoom-in"></i>',
            '</a>'
        ].join('');
    }
</script>